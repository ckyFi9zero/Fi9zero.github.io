<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å…³äºMarkdownçš„åŸºæœ¬è¯­æ³•</title>
      <link href="/2022/12/29/%E5%85%B3%E4%BA%8EMarkdown%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/"/>
      <url>/2022/12/29/%E5%85%B3%E4%BA%8EMarkdown%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1>æ ‡é¢˜</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><h1>å­—ä½“</h1><p><em>å€¾æ–œ</em><br><em>å€¾æ–œ</em><br><strong>åŠ ç²—</strong><br><em><strong>å€¾æ–œåŠ ç²—</strong></em><br><s>åˆ é™¤</s></p><h1>å›¾ç‰‡</h1><p><img src="https://cdn.staticaly.com/gh/ckyFi9zero/pic_bed1@main/pic_bed/QQ%E5%9B%BE%E7%89%8720221229124537.68m6bxzvj4g0.webp" alt="å›¾ç‰‡æè¿°" title="title"></p><h1>ä¸‹åˆ’çº¿</h1><hr><hr><hr><h1>è¡Œå†…å¼</h1><p><code>__main__</code></p><h1>HTMLè¡¨æ ¼</h1><table><tr><th rowspan="2">å€¼ç­äººå‘˜</th><th>æ˜ŸæœŸä¸€</th><th>æ˜ŸæœŸäºŒ</th><th>æ˜ŸæœŸä¸‰</th></tr><tr><td>æå¼º</td><td>å¼ æ˜</td><td>ç‹å¹³<td></tr></table><h1>å¼•ç”¨</h1><blockquote><p>æ–‡å­—<br>æ–‡å­—</p><p>æ–‡å­—<br>æ–‡å­—</p></blockquote><blockquote><blockquote><blockquote><p>å¼•ç”¨1<br>å¼•ç”¨2<br>å¼•ç”¨3</p></blockquote></blockquote></blockquote><h1>åˆ—è¡¨</h1><ul><li>åˆ—è¡¨æ–‡å­—</li></ul><ul><li>åˆ—è¡¨æ–‡å­—</li></ul><ul><li>åˆ—è¡¨æ–‡å­—</li></ul><ol><li>æœ‰åºåˆ—è¡¨</li><li>æœ‰åºåˆ—è¡¨</li></ol><h1>è¡¨æ ¼</h1><table><thead><tr><th>å­¦å·</th><th>å§“å</th><th>åˆ†æ•°</th></tr></thead><tbody><tr><td>å°æ˜</td><td>ç”·</td><td>75</td></tr><tr><td>å°çº¢</td><td>å¥³</td><td>79</td></tr><tr><td>å°é™†</td><td>ç”·</td><td>90</td></tr></tbody></table><h1>ç‰¹æ®Šç¬¦å·</h1><p>\<br>*<br>{}</p><h1>Unicodeå­—ç¬¦</h1><p>â¤<br>âœ“<br>â˜€<br>â˜…<br>â˜‚<br>â˜¯<br>â˜¢<br>â˜<br>âˆ<br>â„<br>â™«<br>å­—ç¬¦å¯¹åº”Unicodeç <a href="https://unicode-table.com/cn/">https://unicode-table.com/cn/</a></p><h1>HTML</h1><p><font face="é»‘ä½“">é»‘ä½“</font><br><font color=#0099ff size=7 face="é»‘ä½“">color=#0099ff size=7 face=â€œé»‘ä½“â€</font><br>size:è§„å®šæ–‡æœ¬çš„å°ºå¯¸å¤§å°ã€‚å¯èƒ½çš„å€¼:ä»1åˆ°7çš„æ•°å­—ã€‚æµè§ˆå™¨é»˜è®¤å€¼æ˜¯3ã€‚</p><h1>æ³¨è„š</h1><p>ä½¿ç”¨Markdown[^1]å¯ä»¥æ•ˆç‡çš„ä¹¦å†™æ–‡æ¡£<br>[^1]Markdownæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ‡è®°è¯­è¨€</p><h1>èƒŒæ™¯è‰²</h1><table><tr><td bgcolor=orange>èƒŒæ™¯è‰²æ˜¯:orange</td></tr></table><h1>emjoy</h1><p>ğŸ˜„<br>ğŸ˜ƒ<br>ğŸ˜<br>ğŸ˜Ÿ<br>ğŸ˜‘</p><h1>æ•°å­¦å…¬å¼</h1><p>$$<br>\sqrt{x^{2}}<br>$$</p><p>$$<br>x+y=z<br>\tag{1}<br>$$</p><h1>æµç¨‹å›¾</h1><div id="flowchart-0" class="flow-chart"></div><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: startop1=>operation: my operationc=>condition: Yes or NOe=>end: endst(right)->op1(right)->cc(yes,right)->ec(no,top)->op1</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éå†æ–‡ä»¶å¤¹å¹¶ä¿å­˜</title>
      <link href="/2022/12/28/%E9%81%8D%E5%8E%86%E6%96%87%E4%BB%B6%E5%A4%B9%E5%B9%B6%E4%BF%9D%E5%AD%98/"/>
      <url>/2022/12/28/%E9%81%8D%E5%8E%86%E6%96%87%E4%BB%B6%E5%A4%B9%E5%B9%B6%E4%BF%9D%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<h1>ä»£ç </h1><h2 id="å¯¼å…¥osåŒ…">å¯¼å…¥osåŒ…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure><h2 id="éå†æ–‡ä»¶å¤¹">éå†æ–‡ä»¶å¤¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">data_path = <span class="string">&quot;&quot;</span> <span class="comment">#éœ€è¦éå†çš„æ–‡ä»¶å¤¹å</span></span><br><span class="line">img_list = os.listdir(data_path)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(img_list) == <span class="number">0</span>:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Data directory is empty.&#x27;</span>)</span><br><span class="line">exit()</span><br><span class="line">    <span class="keyword">for</span> img_name <span class="keyword">in</span> img_list:</span><br><span class="line">        img = cv2.imread(os.path.join(data_path, img_name)) <span class="comment">#ä¹‹åå¯ä»¥å¯¹æ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡è¿›è¡Œå½¢æ€å­¦æ“ä½œ</span></span><br></pre></td></tr></table></figure><h2 id="å°†å¤„ç†åçš„å›¾ç‰‡ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶å¤¹">å°†å¤„ç†åçš„å›¾ç‰‡ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶å¤¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.imwrite(<span class="string">&#x27;&#x27;</span> + <span class="string">&quot;\\&quot;</span> + img_name, result) <span class="comment">#æ”¾å…¥forå¾ªç¯ä¸­</span></span><br></pre></td></tr></table></figure><h1>åè¯</h1><p>è¿™é‡Œåªæ˜¯ç®€å•è®°å½•ä¸€ä¸ªå®ç”¨å·¥å…·ï¼Œç›¸ä¿¡ä¹‹åè‚¯å®šä¼šç”¨åˆ°å¾ˆå¤šéå†æ–‡ä»¶å¤¹çš„é¡¹ç›®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡è¿æ¥å»é›¾ä»£ç é‡åˆ°ä¸€äº›é—®é¢˜çš„ç†è§£</title>
      <link href="/2022/12/27/%E9%80%9A%E8%BF%87%E8%BF%9E%E6%8E%A5%E5%8E%BB%E9%9B%BE%E4%BB%A3%E7%A0%81%E9%81%87%E5%88%B0%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%E7%90%86%E8%A7%A3/"/>
      <url>/2022/12/27/%E9%80%9A%E8%BF%87%E8%BF%9E%E6%8E%A5%E5%8E%BB%E9%9B%BE%E4%BB%A3%E7%A0%81%E9%81%87%E5%88%B0%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%E7%90%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h1>åŠ¨æœº</h1><p>æœ€è¿‘å› ä¸ºè‡ªå·±ç»™è‡ªå·±å®šçš„<s>ddl</s>è¦åˆ°äº†ï¼Œäºæ˜¯ç–¯ç‹‚è‚ä»£ç ã€‚<br>æˆ‘ä¸»è¦æ˜¯åšå»é›¾æ–¹å‘ï¼Œæœ€è¿‘å› ä¸ºè¦ç”¨äºè®ºæ–‡ï¼Œéœ€è¦æ¡¥æ¢æ¥å’ŒåŸºäºè¯­ä¹‰åˆ†å‰²çš„å¤æ‚åœ°è²Œè¯†åˆ«ç®—æ³•ç›¸ç»“åˆã€‚å› ä¸ºæ·±åº¦å­¦ä¹ çš„æ¡†æ¶å·²ç»åŸºæœ¬å®šåœ¨é‚£é‡Œäº†ï¼Œæ‰€ä»¥æˆ‘åªå¥½ä»å„ç§å»é›¾æ–¹æ³•çš„ä»£ç ä¸ŠåŠ¨åˆ€ã€‚</p><h1>æºä»£ç </h1><h2 id="ACEå»é›¾ç®—æ³•ï¼ˆexampleï¼‰">ACEå»é›¾ç®—æ³•ï¼ˆexampleï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çº¿æ€§æ‹‰ä¼¸å¤„ç†</span></span><br><span class="line"><span class="comment"># å»æ‰æœ€å¤§æœ€å°0.5%çš„åƒç´ å€¼ çº¿æ€§æ‹‰ä¼¸è‡³[0,1]</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">stretchImage</span>(<span class="params">data, s=<span class="number">0.005</span>, bins=<span class="number">2000</span></span>):</span><br><span class="line">    ht = np.histogram(data, bins);</span><br><span class="line">    d = np.cumsum(ht[<span class="number">0</span>]) / <span class="built_in">float</span>(data.size)</span><br><span class="line">    lmin = <span class="number">0</span>;</span><br><span class="line">    lmax = bins - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> lmin &lt; bins:</span><br><span class="line">        <span class="keyword">if</span> d[lmin] &gt;= s:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        lmin += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> lmax &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> d[lmax] &lt;= <span class="number">1</span> - s:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        lmax -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> np.clip((data - ht[<span class="number">1</span>][lmin]) / (ht[<span class="number">1</span>][lmax] - ht[<span class="number">1</span>][lmin]), <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®åŠå¾„è®¡ç®—æƒé‡å‚æ•°çŸ©é˜µ</span></span><br><span class="line">g_para = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getPara</span>(<span class="params">radius=<span class="number">5</span></span>):</span><br><span class="line">    <span class="keyword">global</span> g_para</span><br><span class="line">    m = g_para.get(radius, <span class="literal">None</span>)</span><br><span class="line">    <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> m</span><br><span class="line">    size = radius * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">    m = np.zeros((size, size))</span><br><span class="line">    <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(-radius, radius + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> <span class="built_in">range</span>(-radius, radius + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> h == <span class="number">0</span> <span class="keyword">and</span> w == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            m[radius + h, radius + w] = <span class="number">1.0</span> / math.sqrt(h ** <span class="number">2</span> + w ** <span class="number">2</span>)</span><br><span class="line">    m /= m.<span class="built_in">sum</span>()</span><br><span class="line">    g_para[radius] = m</span><br><span class="line">    <span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸¸è§„çš„ACEå®ç°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">zmIce</span>(<span class="params">I, ratio=<span class="number">4</span>, radius=<span class="number">300</span></span>):</span><br><span class="line">    para = getPara(radius)</span><br><span class="line">    height, width = I.shape</span><br><span class="line">    zh = []</span><br><span class="line">    zw = []</span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; radius:</span><br><span class="line">        zh.append(<span class="number">0</span>)</span><br><span class="line">        zw.append(<span class="number">0</span>)</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(height):</span><br><span class="line">        zh.append(n)</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(width):</span><br><span class="line">        zw.append(n)</span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; radius:</span><br><span class="line">        zh.append(height - <span class="number">1</span>)</span><br><span class="line">        zw.append(width - <span class="number">1</span>)</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">    <span class="comment"># print(zh)</span></span><br><span class="line">    <span class="comment"># print(zw)</span></span><br><span class="line"></span><br><span class="line">    Z = I[np.ix_(zh, zw)]</span><br><span class="line">    res = np.zeros(I.shape)</span><br><span class="line">    <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(radius * <span class="number">2</span> + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> <span class="built_in">range</span>(radius * <span class="number">2</span> + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> para[h][w] == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            res += (para[h][w] * np.clip((I - Z[h:h + height, w:w + width]) * ratio, -<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># å•é€šé“ACEå¿«é€Ÿå¢å¼ºå®ç°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">zmIceFast</span>(<span class="params">I, ratio, radius</span>):</span><br><span class="line">    <span class="built_in">print</span>(I)</span><br><span class="line">    height, width = I.shape[:<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">min</span>(height, width) &lt;= <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> np.zeros(I.shape) + <span class="number">0.5</span></span><br><span class="line">    Rs = cv2.resize(I, (<span class="built_in">int</span>((width + <span class="number">1</span>) / <span class="number">2</span>), <span class="built_in">int</span>((height + <span class="number">1</span>) / <span class="number">2</span>)))</span><br><span class="line">    Rf = zmIceFast(Rs, ratio, radius)  <span class="comment"># é€’å½’è°ƒç”¨</span></span><br><span class="line">    Rf = cv2.resize(Rf, (width, height))</span><br><span class="line">    Rs = cv2.resize(Rs, (width, height))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Rf + zmIce(I, ratio, radius) - zmIce(Rs, ratio, radius)</span><br><span class="line"></span><br><span class="line"><span class="comment"># rgbä¸‰é€šé“åˆ†åˆ«å¢å¼º ratioæ˜¯å¯¹æ¯”åº¦å¢å¼ºå› å­ radiusæ˜¯å·ç§¯æ¨¡æ¿åŠå¾„</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">zmIceColor</span>(<span class="params">I, ratio=<span class="number">4</span>, radius=<span class="number">3</span></span>):</span><br><span class="line">    res = np.zeros(I.shape)</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        res[:, :, k] = stretchImage(zmIceFast(I[:, :, k], ratio, radius))</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h2 id="æ·±åº¦å­¦ä¹ predictè¾“å…¥æ¨¡å—">æ·±åº¦å­¦ä¹ predictè¾“å…¥æ¨¡å—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">image = Image.<span class="built_in">open</span>(img)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Open Error! Try again!&#x27;</span>)</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">r_image = deeplab.detect_image(image, count=count, name_classes=name_classes)</span><br><span class="line">r_image.show()</span><br></pre></td></tr></table></figure><h2 id="è°ˆè°ˆæƒ³æ³•">è°ˆè°ˆæƒ³æ³•</h2><h3 id="importæ‰€æœ‰def">importæ‰€æœ‰def</h3><p>ä»¥ACEç®—æ³•ä¸ºä¾‹ï¼Œæ‰€ä½¿ç”¨çš„æ–¹æ³•å±‚å±‚é€’è¿›ï¼Œäº’ç›¸åµŒå¥—ã€‚ä»¥æ–¹æ³•ä¸ºå•ä½å°†æ‰€æœ‰æ–¹æ³•importéå¸¸ä¸ç°å®ï¼Œå¦‚æœå°†æ‰€æœ‰æ–¹æ³•æ”¾å…¥å¯¼åŒ…ä»£ç ä¹‹ä¸‹ï¼Œåˆæ˜¾å¾—æ·±åº¦å­¦ä¹ çš„predictä»£ç ä¸ç¾è§‚ä¹Ÿä¸ä¼ ç»Ÿ~~ï¼ˆå°±æ˜¯çœ‹ç€å¾ˆä¸çˆ½ï¼‰~~ã€‚å¹¶ä¸”å‡è®¾å†å¢æ·»ä¸€ç§å»é›¾ç®—æ³•ï¼Œæ–¹æ³•ä¼šè¶Šç§¯è¶Šå¤šï¼Œä½†å´åšä¸åˆ°æ¯ä¸ªæ–¹æ³•éƒ½ç”¨åˆ°ï¼Œå…¶æ‰€è°“æ ‘å¤§æœ‰æ¯æã€‚</p><h3 id="import-osåŒ…å…ˆè¿è¡ŒACE-py">import <a href="http://xn--osACE-hk5hy7hsr9mzeo.py">osåŒ…å…ˆè¿è¡ŒACE.py</a></h3><p>é‚£æˆ‘ä¸å»æ”¹åŠ¨ä»£ç ï¼Œç›´æ¥å…ˆè¿è¡Œä¸å°±å®Œäº†ã€‚æƒ³æ³•å¾ˆç¾å¥½ï¼Œç°å®å¾ˆéª¨æ„Ÿã€‚å¯ä»¥é€šè¿‡æ·±åº¦å­¦ä¹ è¾“å…¥éƒ¨åˆ†å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬æ˜¯è¦åœ¨è¿è¡Œæ­¤æ–‡ä»¶åï¼Œåœ¨è¿è¡Œè¾“å…¥å›¾ç‰‡è·¯å¾„ã€‚æˆ‘ä»¬éœ€è¦åœ¨æ­¤æ—¶å°†è¿™å¼ å›¾ç‰‡è¿›è¡Œå»é›¾å¤„ç†ï¼Œå†è¾“å‡ºæ¥å†å¾€ä¸‹è¿è¡Œã€‚ç›®å‰æˆ‘æ— æ³•æƒ³å‡ºå°†è¾“å…¥å›¾ç‰‡ä½œä¸ºè¾“å…¥å˜é‡å¯¼å…¥ACE.pyè¿è¡Œçš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¹Ÿä»¥å¤±è´¥å‘Šç»ˆã€‚</p><h3 id="å°†æ‰€æœ‰defæ‰“åŒ…æˆclassä¸€èµ·import">å°†æ‰€æœ‰defæ‰“åŒ…æˆclassä¸€èµ·import</h3><p>æƒ³åˆ°è¿™æ­¥å·²ç»æ˜¯ç”¨äº†ä¸€å¤©åŠäº†ï¼Œå› ä¸ºä¹Ÿä¸çŸ¥é“å¯ä¸å¯è¡Œï¼Œä¸€ç›´æƒ³å…ˆç”¨ç¬¬ä¸€ç§æ€è·¯åšä¸€ä¸ªsolutionå‡ºæ¥ï¼Œæ‰€ä»¥è€½è¯¯äº†å¾ˆå¤šæ—¶é—´ã€‚ä½†äº‹å®è¯æ˜è¿™ç§æƒ³æ³•å¯è¡Œä¸”å¾ˆå¯¹ã€‚</p><h1>é—®é¢˜æ€»ç»“</h1><h2 id="å…³äºpythonä¸­ç±»çš„ç†è§£">å…³äºpythonä¸­ç±»çš„ç†è§£</h2><ul><li>ç±»(Class)ï¼šç”¨æ¥æè¿°å…·æœ‰ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„é›†åˆã€‚å®ƒå®šä¹‰äº†è¯¥é›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚</li><li>æ–¹æ³•ï¼šç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚</li><li>ç±»çš„æ„é€ æ–¹æ³•__init__()ï¼šç±»æœ‰ä¸€ä¸ªåä¸º init() çš„ç‰¹æ®Šæ–¹æ³•ï¼ˆæ„é€ æ–¹æ³•ï¼‰ï¼Œè¯¥æ–¹æ³•åœ¨ç±»å®ä¾‹åŒ–æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚</li><li>å®ä¾‹å˜é‡ï¼šåœ¨ç±»çš„å£°æ˜ä¸­ï¼Œå±æ€§æ˜¯ç”¨å˜é‡æ¥è¡¨ç¤ºçš„ï¼Œè¿™ç§å˜é‡å°±ç§°ä¸ºå®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡å°±æ˜¯ä¸€ä¸ªç”¨ self ä¿®é¥°çš„å˜é‡ã€‚</li><li>å®ä¾‹åŒ–ï¼šåˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œç±»çš„å…·ä½“å¯¹è±¡ã€‚</li><li>ç»§æ‰¿ï¼šå³ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ç»§æ‰¿åŸºç±»ï¼ˆbase classï¼‰çš„å­—æ®µå’Œæ–¹æ³•ã€‚ç»§æ‰¿ä¹Ÿå…è®¸æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡å¯¹å¾…ã€‚</li></ul><p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼ï¼ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HazeRemoval1</span>: <span class="comment">#æˆ‘è‡ªå·±å®šä¹‰çš„ç±»å</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,filename</span>):</span><br><span class="line">        self.filename = filename</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">stretchImage</span>(<span class="params">self, data, s=<span class="number">0.005</span>, bins=<span class="number">2000</span></span>):</span><br><span class="line">        ht = np.histogram(data, bins);</span><br><span class="line">        d = np.cumsum(ht[<span class="number">0</span>]) / <span class="built_in">float</span>(data.size)</span><br><span class="line">        lmin = <span class="number">0</span>;</span><br><span class="line">        lmax = bins - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> lmin &lt; bins:</span><br><span class="line">            <span class="keyword">if</span> d[lmin] &gt;= s:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            lmin += <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> lmax &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> d[lmax] &lt;= <span class="number">1</span> - s:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            lmax -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> np.clip((data - ht[<span class="number">1</span>][lmin]) / (ht[<span class="number">1</span>][lmax] - ht[<span class="number">1</span>][lmin]), <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getPara</span>(<span class="params">self, radius=<span class="number">5</span></span>):</span><br><span class="line">        <span class="keyword">global</span> g_para</span><br><span class="line">        g_para = &#123;&#125;</span><br><span class="line">        m = g_para.get(radius, <span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> m</span><br><span class="line">        size = radius * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">        m = np.zeros((size, size))</span><br><span class="line">        <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(-radius, radius + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> w <span class="keyword">in</span> <span class="built_in">range</span>(-radius, radius + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> h == <span class="number">0</span> <span class="keyword">and</span> w == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                m[radius + h, radius + w] = <span class="number">1.0</span> / math.sqrt(h ** <span class="number">2</span> + w ** <span class="number">2</span>)</span><br><span class="line">        m /= m.<span class="built_in">sum</span>()</span><br><span class="line">        g_para[radius] = m</span><br><span class="line">        <span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">zmIce</span>(<span class="params">self, I, ratio=<span class="number">4</span>, radius=<span class="number">300</span></span>):</span><br><span class="line">        para = self.getPara(radius)</span><br><span class="line">        height, width = I.shape</span><br><span class="line">        zh = []</span><br><span class="line">        zw = []</span><br><span class="line">        n = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n &lt; radius:</span><br><span class="line">            zh.append(<span class="number">0</span>)</span><br><span class="line">            zw.append(<span class="number">0</span>)</span><br><span class="line">            n += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(height):</span><br><span class="line">            zh.append(n)</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(width):</span><br><span class="line">            zw.append(n)</span><br><span class="line">        n = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n &lt; radius:</span><br><span class="line">            zh.append(height - <span class="number">1</span>)</span><br><span class="line">            zw.append(width - <span class="number">1</span>)</span><br><span class="line">            n += <span class="number">1</span></span><br><span class="line">        <span class="comment"># print(zh)</span></span><br><span class="line">        <span class="comment"># print(zw)</span></span><br><span class="line"></span><br><span class="line">        Z = I[np.ix_(zh, zw)]</span><br><span class="line">        res = np.zeros(I.shape)</span><br><span class="line">        <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(radius * <span class="number">2</span> + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> w <span class="keyword">in</span> <span class="built_in">range</span>(radius * <span class="number">2</span> + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> para[h][w] == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                res += (para[h][w] * np.clip((I - Z[h:h + height, w:w + width]) * ratio, -<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">zmIceFast</span>(<span class="params">self, I, ratio, radius</span>):</span><br><span class="line">        <span class="comment"># print(I)</span></span><br><span class="line">        height, width = I.shape[:<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">min</span>(height, width) &lt;= <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> np.zeros(I.shape) + <span class="number">0.5</span></span><br><span class="line">        Rs = cv2.resize(I, (<span class="built_in">int</span>((width + <span class="number">1</span>) / <span class="number">2</span>), <span class="built_in">int</span>((height + <span class="number">1</span>) / <span class="number">2</span>)))</span><br><span class="line">        Rf = self.zmIceFast(Rs, ratio, radius)</span><br><span class="line">        Rf = cv2.resize(Rf, (width, height))</span><br><span class="line">        Rs = cv2.resize(Rs, (width, height))</span><br><span class="line">        <span class="keyword">return</span> Rf + self.zmIce(I, ratio, radius) - self.zmIce(Rs, ratio, radius)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">zmIceColor</span>(<span class="params">self, I , ratio=<span class="number">4</span>, radius=<span class="number">3</span></span>):</span><br><span class="line">        res = np.zeros(I.shape)</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            res[:, :, k] = self.stretchImage(self.zmIceFast(I[:, :, k], ratio, radius))</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><p>é‡ç‚¹åœ¨äºå¯¹selfçš„ç†è§£ï¼Œæˆ‘ä¸€å¼€å§‹è®¤ä¸ºæ˜¯å…·ä½“å˜é‡ï¼Œè¯¯è®¤ä¸ºæ˜¯æ¯ä¸ªdefä¸­è¾“å…¥çš„å˜é‡ï¼ŒæŠŠæ–¹æ³•ä¸­çš„Iä¹‹ç±»çš„æ›¿æ¢ä¸ºselfï¼Œé‚£å°±å¤§é”™ç‰¹é”™äº†ã€‚å®ƒä¼šç›´æ¥ç»™ä½ æŠ¥å¤§å¤§çš„é”™ï¼ˆç”±äºæ˜¯åµŒå¥—æ–¹æ³•ï¼Œä¸Šä¸€ä¸ªæ–¹æ³•è¿”å›çš„å˜é‡ä¸ªæ•°ä¸ä¸‹ä¸€ä¸ªæ–¹æ³•è¾“å…¥å˜é‡ä¸åŒ¹é…ï¼‰ã€‚å› ä¸ºselfä¸æ˜¯å®é™…æ„ä¹‰ä¸Šçš„å˜é‡ï¼Œæ˜¯ä½ çš„å®å‚ï¼Œåé¢çš„æ‰€æœ‰æ–¹æ³•éƒ½å’Œå®ƒæœ‰å…³ï¼Œä½†å®ƒä¸å ç”¨æ–¹æ³•ä¸­çš„å˜é‡å‘ä½ã€‚selfå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå­—å…¸å˜é‡ï¼Œå†…éƒ¨å­˜çš„å°±æ˜¯å¯¹è±¡çš„æ•°æ®å±æ€§ã€‚</p><h2 id="å›¾ç‰‡PILä¸cvç±»å‹çš„è½¬æ¢">å›¾ç‰‡PILä¸cvç±»å‹çš„è½¬æ¢</h2><p>ä½†æ˜¯æ–°çš„é—®é¢˜åˆå‡ºç°äº†ï¼Œpredictä¸­è¾“å…¥æ˜¯ç”¨PILä¸­çš„openï¼Œå¾—åˆ°çš„æ˜¯å›¾ç‰‡çš„PILçš„ç±»å‹ã€‚è€Œæˆ‘ä»¬çš„å„ç§opencvçš„å½¢æ€å­¦æ“ä½œéƒ½æ˜¯ç”¨å›¾ç‰‡çš„cvç±»å‹ã€‚å› æ­¤æˆ‘ä»¬åœ¨ä¼ å…¥classåå…ˆè¦æŠŠå›¾ç‰‡ä»PILç±»å‹è½¬å˜ä¸ºcvç±»å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">PIL2cv</span>(<span class="params">self</span>): </span><br><span class="line">    image_PIL = Image.<span class="built_in">open</span>(self.filename)</span><br><span class="line">    image_cv = cv2.cvtColor(np.asarray(image_PIL), cv2.COLOR_RGB2BGR)</span><br><span class="line">    <span class="keyword">return</span> image_cv</span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œè¿›è¡Œå»é›¾æ“ä½œåçš„è¾“å‡ºå›¾ç‰‡ä¹Ÿæ˜¯cvç±»å‹ï¼Œè€Œæœ€åä¹Ÿè¦è½¬å˜ä¸ºPILç±»å‹ã€‚<br>åˆä¸€ä¸ªå¤§å¤§å¤§å‘ï¼Œfloat,doubleç­‰ç±»å‹çš„å›¾ç‰‡ä¸èƒ½ç›´æ¥ç”¨fromarrayè½¬æ¢ä¸ºPILç±»å‹ã€‚<br>ä¸ç„¶ä¼šæŠ¥ä»¥ä¸‹cv2.erroré”™è¯¯ã€‚<br><img src="https://cdn.staticaly.com/gh/ckyFi9zero/pic_bed1@main/pic_bed/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20221228004827.4wmq1ikt1860.webp" alt="cv2.error"><br>æ‰€ä»¥ä¸­é—´è¦åŠ ä¸€æ­¥astypeæŠŠæµ®ç‚¹å˜ä¸ºæ•´å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">self = HazeRemoval1(img)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Open Error! Try again!&#x27;</span>)</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">img = self.PIL2cv()</span><br><span class="line">result = self.zmIceColor(img / <span class="number">255.0</span>) * <span class="number">255</span> <span class="comment">#ç®—æ³•éœ€è¦ï¼Œå¾—å°†imgåƒç´ å€¼ç¼©åˆ°[0,1],å»é›¾å®Œåå†æ‹¬å›[0,255]</span></span><br><span class="line">image_uint8 = result.astype(np.uint8)</span><br><span class="line">image = Image.fromarray(cv2.cvtColor(image_uint8, cv2.COLOR_BGR2RGB))</span><br><span class="line">r_image = deeplab.detect_image(image, count=count, name_classes=name_classes)</span><br><span class="line">r_image.show()</span><br></pre></td></tr></table></figure><h2 id="åŒä¸€å¼ å›¾ç‰‡imshowå’Œimwriteå´ä¸åŒ">åŒä¸€å¼ å›¾ç‰‡imshowå’Œimwriteå´ä¸åŒ</h2><p>è¿˜æœ‰ä¸€ä¸ªæ„å¤–å‘ç°ï¼Œå°±æ˜¯imshowæ˜¾ç¤ºå‡ºçš„å›¾ç‰‡å’Œimwriteä¿å­˜çš„å›¾ç‰‡ä¸ä¸€æ ·ã€‚</p><ul><li>ï¼ˆ1ï¼‰å½“è¾“å…¥çŸ©é˜µæ˜¯uint8ç±»å‹çš„æ—¶å€™ï¼Œæ­¤æ—¶imshowæ˜¾ç¤ºå›¾åƒçš„æ—¶å€™ï¼Œä¼šè®¤ä¸ºè¾“å…¥çŸ©é˜µçš„èŒƒå›´åœ¨0-255ä¹‹é—´ã€‚</li><li>ï¼ˆ2ï¼‰å¦‚æœimshowçš„å‚æ•°æ˜¯doubleç±»å‹çš„æ—¶å€™ï¼Œé‚£ä¹ˆimshowä¼šè®¤ä¸ºè¾“å…¥çŸ©é˜µçš„èŒƒå›´åœ¨0-1ã€‚<br><img src="https://cdn.staticaly.com/gh/ckyFi9zero/pic_bed1@main/pic_bed/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20221228013015.6amcllg8zk00.webp" alt="imshow"></li></ul><center>imshow</center><p><img src="https://cdn.staticaly.com/gh/ckyFi9zero/pic_bed1@main/pic_bed/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20221228013021.254b2jzmrops.webp" alt="imwrite"></p><center>imwrite</center>æ˜¯å› ä¸ºå›¾ç‰‡åœ¨è¿›è¡Œä¸€ç³»åˆ—çš„å¯¹æ•°ç»„æ“ä½œåæ•°ç»„å·²ç»å˜æˆäº†floatç±»å‹ï¼Œä¹‹åå†å¯¹æ•°ç»„è¿›è¡Œimshowæ—¶ä¾¿ä¼šå‡ºç°ä¸Šé¢çš„ç¬¬äºŒç§æƒ…å†µã€‚ä½†æ˜¯å›¾åƒçŸ©é˜µï¼ˆdoubleå‹ï¼‰çš„çŸ©é˜µå…ƒç´ ä¸åœ¨0-1ä¹‹é—´ï¼Œé‚£ä¹ˆimshowä¼šæŠŠè¶…è¿‡1çš„å…ƒç´ éƒ½æ˜¾ç¤ºä¸ºç™½è‰²ã€‚å› ä¸ºæ‰€è¾“å…¥çš„doubleçš„çŸ©é˜µï¼ˆæœªå½’ä¸€åŒ–ï¼‰å¹¶ä¸èƒ½ä¿è¯å…ƒç´ èŒƒå›´åœ¨0-1ä¹‹é—´ã€‚è§£å†³æ–¹æ³•å°±æ˜¯å…ˆ<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image_uint8 = image_double.astype(np.uint8)</span><br></pre></td></tr></table></figure><p>å†è¿›è¡Œimshowã€‚</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> å»é›¾ </tag>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•…äº‹çš„å¼€å§‹</title>
      <link href="/2022/12/27/%E6%95%85%E4%BA%8B%E7%9A%84%E5%BC%80%E5%A7%8B/"/>
      <url>/2022/12/27/%E6%95%85%E4%BA%8B%E7%9A%84%E5%BC%80%E5%A7%8B/</url>
      
        <content type="html"><![CDATA[<h1>æ•…äº‹å¼€å§‹å•¦</h1><p>ä»å»ºç«™åˆ°è´­ä¹°åŸŸåå†åˆ°ç°åœ¨æ­£å¼å¼€æ”¾åº”è¯¥å·®ä¸å¤šä¸¤å‘¨æ—¶é—´å§ï¼Œå…¶ä¸­å‚è€ƒäº†å¾ˆå¤šå¤§ä½¬çš„åšå®¢ã€‚<br>éå¸¸æ„Ÿè°¢ä»¥ä¸‹å¤§ä½¬ï¼ï¼ï¼</p><h2 id="fomalhaut"><a href="https://fomal.cc/">fomalhaut</a></h2><p><img src="https://cdn.staticaly.com/gh/ckyFi9zero/pic_bed1@main/pic_bed/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20221227172317.1fjgzx2w7ccg.webp" alt="fomalhuat"></p><h2 id="å”å¿—è¿œã®åšå®¢"><a href="https://tzy1997.com/">å”å¿—è¿œã®åšå®¢</a></h2><p><img src="https://cdn.staticaly.com/gh/ckyFi9zero/pic_bed1@main/pic_bed/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20221227172254.3y3pp36hcfg0.webp" alt="tzy"></p><h2 id="å’•å’•é¸½"><a href="https://guguge.top/">å’•å’•é¸½</a></h2><p><img src="https://cdn.staticaly.com/gh/ckyFi9zero/pic_bed1@main/pic_bed/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20221227172222.5z3mb0k9r000.webp" alt="guguge"></p><h1>å»ºç«™åè¯</h1><p>æ¥ä¸‹æ¥æœ¬ç«™ä¼šä¸å®šæœŸæ›´æ–°ï¼Œå…³äºå­¦ä¹ ç¬”è®°æˆ–æ˜¯åæ§½ç”Ÿæ´»ã€‚<br>æ­¤å¤–ï¼Œæœ¬ç«™ç›®å‰ä¸»è¦åŠŸèƒ½è¿˜æ˜¯ä»¥æ’°å†™æ–‡ç« ä¸ºä¸»ï¼Œè¯„è®ºç­‰ç­‰å…¶ä»–åŠŸèƒ½ä¼šæ…¢æ…¢å¼€æ”¾ã€‚<br>è‡´æ•¬æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢å•Šå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ!</p>]]></content>
      
      
      <categories>
          
          <category> èŠèŠç”Ÿæ´» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”Ÿæ´» </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
